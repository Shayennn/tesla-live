<html lang="en">
<head>
    <meta charset=utf-8/>
    <title>Tesla Live</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
</head>
<body>
<div id='player'>
    <h1>Tesla Live</h1>
    <table>
        <tr>
            <td><h2>Front</h2>
                <video width="480" height="320" autoplay muted controls id="video_front">
                    <source src="live?camera=front" type="video/mp4"/>
                </video>
            </td>
            <td><h2>Back</h2>
                <video width="480" height="320" autoplay muted controls id="video_back">
                    <source src="live?camera=back" type="video/mp4"/>
                </video>
            </td>
        </tr>
        <tr>
            <td><h2>Left</h2>
                <video width="480" height="320" autoplay muted controls id="video_left">
                    <source src="live?camera=left" type="video/mp4"/>
                </video>
            </td>
            <td><h2>Right</h2>
                <video width="480" height="320" autoplay muted controls id="video_right">
                    <source src="live?camera=right" type="video/mp4"/>
                </video>
            </td>
        </tr>
    </table>
</div>
<!--After video end reload the video-->
<script>
    var video_front = document.getElementById('video_front');
    var video_back = document.getElementById('video_back');
    var video_left = document.getElementById('video_left');
    var video_right = document.getElementById('video_right');

    video_front.addEventListener('ended', function () {
        this.currentTime = 0;
        this.load();
    }, false);

    video_back.addEventListener('ended', function () {
        this.currentTime = 0;
        this.load();
    }, false);

    video_left.addEventListener('ended', function () {
        this.currentTime = 0;
        this.load();
    }, false);

    video_right.addEventListener('ended', function () {
        this.currentTime = 0;
        this.load();
    }, false);
</script>
</body>
</html>
